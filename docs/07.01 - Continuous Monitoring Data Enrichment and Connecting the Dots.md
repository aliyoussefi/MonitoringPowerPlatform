# Monitoring the Power Platform: Data Enrichment and Connecting the Dots

## What is the difference between Events and Metrics

https://msdn.microsoft.com/office-365/office-365-service-communications-api-reference)

### Enriching Data and Reducing Noise

One of the features that Application Insights offers that I leverage frequently is the ability to enrich the messages. This article by **Victor Mushkatin** and **Sergey Kanzhelev** does a fantastic job of detailing not only enrichment but how to implement reduction and filtering techniques.

![](https://docs.microsoft.com/en-us/archive/msdn-magazine/2017/may/images/mt808502.mushkatin_figure2_hires(en-us%2cmsdn.10).png)



Reference: https://docs.microsoft.com/en-us/archive/msdn-magazine/2017/may/devops-optimize-telemetry-with-application-insights

Enriching data with client information such as locale, machine data and metrics will help us troubleshoot and pinpoint specific signals from our telemetry. The following articles in the series will include specifics from each platform that can help enrich our telemetry with specific identifiers that hopefully will allow for correlating events and ultimately connecting our resources down to a single workload.

## Data Enrichment in Application Insights

### Application and Environment Context

#### PowerApps

The Client API in model driven apps contains an immense set of data points for capturing. Organization identifiers and settings. settings specific to the user running the platform, even the specific application within the organization are available. Understanding where to get this data and what data is important is fundamental to implementing a monitoring strategy. Data points without context provide little value and as such we must work to enrich data to account for this.

The Client API can be used from within client side customizations and depending on the type of customization different approaches to obtaining the context are needed. Typically for embedded javascript file, the form or execution context can be passed in which contains the contextual information about the UI and data users are interacting with. For our purposes we will focus on the Xrm.Utility which gets us the settings described above as well as other information about the client such as if its run on a mobile device or workstation.

Below are settings I recommend collecting at a minimum to enrich our data points delivered to Application Insights:

| Property       | Description                                                  |
| -------------- | ------------------------------------------------------------ |
| userId         | Found in the userSettings this is the unique identifier for the end user interacting with the system. |
| organizationId | Found in the organizationSettings, this is the identifer for the specific organization. |
| client         | Found in the client, this provides what type of client is used |
| version        |                                                              |
|                |                                                              |



https://docs.microsoft.com/en-us/powerapps/developer/model-driven-apps/clientapi/reference/xrm-utility/getglobalcontext/organizationsettings

https://docs.microsoft.com/en-us/powerapps/developer/model-driven-apps/clientapi/reference/xrm-utility/getglobalcontext/usersettings

#### Canvas Apps

### Power Automate

### Power BI

### Power Virtual Agent



## Connecting Dispersed Systems

### Application Map

