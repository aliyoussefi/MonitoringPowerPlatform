# Monitoring the Power Platform: Power Automate - Power Automate Analytics

## Summary

**[Microsoft Power Automate](https://docs.microsoft.com/en-us/power-automate/getting-started)** is a service allowing makers to create business processes, orchestrations and workflows to help achieve common and even complex business requirements. Within the Power Platform, Power Automate represents one of the most important pillars of the platform. It provides a no to low code solution to process automation. From sending **[push notifications to mobile devices](https://docs.microsoft.com/en-us/powerapps/maker/canvas-apps/add-notifications)**, to complex **[robotic process automation](https://flow.microsoft.com/en-us/ui-flows/)** flows, Power Automate can be used in virtually any workload.

This purpose of this article is to examine the **[Power Auatomate Analytics](https://docs.microsoft.com/en-us/power-platform/admin/analytics-flow)** feature. We will review **current functionality** and report use cases within the analytics tool. The recently announced **unified service health** feature will also be referenced here.

The article will also go into the **Analytics feature** available in the **My Flows** functionality of **Power Automate**, which allows Makers the ability to track metrics on their flows.

## Power Automate Analytics

### Power Automate Analytics in the Power Platform Admin Center

The Power Automate Analytics feature in the Power Platform Admin Center allows administrators to run reports for insights into flow usage, errors and the various connectors and flows their organization are creating.

**<u>The data in these reports is refreshed about every 3 hours and is retained for 28 days</u>**. To find the last refresh date, look in the upper right hand corner of the Analytics window.

<insert lastrefreshtime image>

#### Who can access this data?

As shown in [this article](https://docs.microsoft.com/en-us/power-platform/admin/analytics-flow#who-can-view-these-reports) there consist of various admin roles within Office 365 that will scope to specific reports. **Environment Admin will scope to environments the admin has access to** while other admin roles will expose every environment.

#### Navigating the Portal

With the appropriate permissions, an admin will land on the **Usage** report for Power Apps Analytics. 

<img src="https://raw.githubusercontent.com/wiki/aliyoussefi/D365-Monitoring/Artifacts/PowerAppsAnalytics/navigateTo.JPG"  />

#### Power Automate Reports

[The **Runs** report](https://docs.microsoft.com/en-us/power-platform/admin/analytics-flow#runs-report) displays **daily, weekly and monthly runs for all flows in a specific environment**. This can prove useful to understanding if a new or existing flow introduced has been causing a spike in usage. or instance if I had a reoccurring integration utilizing flows I may come here to see a daily count. If I see a spike in failed or cancelled runs, I can move to the Errors report for additional information.

<img src="https://raw.githubusercontent.com/aliyoussefi/MonitoringPowerPlatform/master/Artifacts/PowerAutomateAnalytics/Analytics-Runs.JPG" style="zoom: 67%;" />

[The **Usage** report](https://docs.microsoft.com/en-us/power-platform/admin/analytics-flow#usage-report) shows the **current flows in use and the overall trends of flows**. Admins can also see **how flows are triggered**, such as **system events** like a CDS update to a **scheduled task** or **button click**. 

<insert usage image>

The Flows in use chart can help see track the most triggered flow in the filtered data. In my scenario, I had an unusual number of daily flows from the Runs report and was able to isolate to the specific flow causing the increase. In the chart the "**Get D365 Msgs and Fire Pipeline**" [flow which monitors the Office 365 Communications API for current health and messages](https://community.dynamics.com/crm/b/crminthefield/posts/monitoring-dynamics-365-ce-service-health-and-messages-using-the-microsoft-office-365-service-communications-api). A sample of this flow is located **[here](https://github.com/aliyoussefi/MonitoringPowerPlatform/raw/PowerAutomate/Samples/GetDynamics365MessagesfromtheOffice365CommunicationsAPI_20200410121038.zip).** Further analysis of the capabilities of the Office 365 Service and Communications API are covered in another article related to overall service health.

<insert flows in use chart>

[The **Created** report](https://docs.microsoft.com/en-us/power-platform/admin/analytics-flow#created-report) displays the **types of flows created**, **trends** and **specific details** about created flows such as the **created date** and **email**.
<img src="https://raw.githubusercontent.com/aliyoussefi/MonitoringPowerPlatform/master/Artifacts/PowerAutomateAnalytics/Analytics-Created.JPG" style="zoom: 67%;" />

[The **Errors** report](https://docs.microsoft.com/en-us/power-platform/admin/analytics-flow#error-report), will provide data points for recurring error counts and the creator's email address and the last time it occurred. 

<img src="https://raw.githubusercontent.com/aliyoussefi/MonitoringPowerPlatform/master/Artifacts/PowerAutomateAnalytics/Analytics-Errors.JPG" style="zoom: 67%;" />

[The **Shared** report](https://docs.microsoft.com/en-us/power-platform/admin/analytics-flow#shared-report) is important to understand which flows are shared and which are trending up in shares. This is useful for an analysis on flows that have have become extremely valuable to your organization where users are requesting and sharing often. This could also help call out when a flow may need to be reviewed for possible security and performance considerations.

<img src="https://raw.githubusercontent.com/aliyoussefi/MonitoringPowerPlatform/master/Artifacts/PowerAutomateAnalytics/Analytics-Shared.JPG" style="zoom: 67%;" />

Examining the Successful connection requests chart I see only 37.5% completed on 3/17 with only 8 requests. 

<img src="https://raw.githubusercontent.com/aliyoussefi/MonitoringPowerPlatform/master/Artifacts/PowerAutomateAnalytics/Analytics-Runs.JPG" style="zoom: 67%;" />

Choosing a date with a bigger sample size, I see 53 requests from 4/6 with 100% completion.

<img src="https://raw.githubusercontent.com/aliyoussefi/MonitoringPowerPlatform/master/Artifacts/PowerAutomateAnalytics/Analytics-Runs.JPG" style="zoom: 67%;" />

Looking back at the service response time chart for 4/6 I see the **95th percentile is 5 seconds**.

<img src="https://raw.githubusercontent.com/aliyoussefi/MonitoringPowerPlatform/master/Artifacts/PowerAutomateAnalytics/Analytics-Runs.JPG" style="zoom: 67%;" />

Finally, [the **Connectors** report](https://docs.microsoft.com/en-us/power-platform/admin/analytics-powerapps#what-are-the-available-reports) can help shed light on the relationship between connectors and apps. A very useful metric in this report is **Shares**, which shows the number of shares of an app to admin. As described in the sample scenario from the official documentation, this could prove useful to understand and take action on potentially shared sensitive data.

<img src="https://raw.githubusercontent.com/aliyoussefi/MonitoringPowerPlatform/master/Artifacts/PowerAutomateAnalytics/Analytics-Runs.JPG" style="zoom: 67%;" />

#### Filtering the data returned

The Power Apps Analytics will show environments an admin has access to review data for. During acceptance or end to end testing, admins may want to focus on a specific environment and time range. [To do this](https://docs.microsoft.com/en-us/power-platform/admin/analytics-powerapps#how-do-i-change-environments), click the "**Change filters**" button for any dashboard.

<img src="https://raw.githubusercontent.com/aliyoussefi/MonitoringPowerPlatform/master/Artifacts/PowerAutomateAnalytics/Analytics-Runs.JPG" style="zoom: 67%;" />

#### Export data for Analysis

Currently the ability to export from the Power Platform Admin Center is not available as it is with the Common Data Service for Analytics. I would expect this to change and will update this article once more information is available. Until then [**most charts can be exported via the ellipsis**](https://docs.microsoft.com/en-us/power-platform/admin/analytics-powerapps#how-can-i-download-the-reports) like other Power BI reports. 

<img src="https://raw.githubusercontent.com/aliyoussefi/MonitoringPowerPlatform/master/Artifacts/PowerAutomateAnalytics/Analytics-Runs.JPG" style="zoom: 67%;" />

## Service Health within the Power Platform Admin Center

Recently announced in the Release Wave 1 for 2020 is a [unified service health experience within the Power Platform Admin Center](https://docs.microsoft.com/en-us/power-platform-release-plan/2020wave1/power-platform-governance-administration/unified-service-health-experience-power-platform-admin-center). This will allow admins the ability to focus efforts within the PPAC, not having to navigate to the Office 365 Portal for service health. This reduces Environment Admins from potentially interacting with Office 365 items and to focus on the Power Platform specifically. [According to the article the ability to set up alerts for service outages will be coming as part of the September 2020 general availability](https://docs.microsoft.com/en-us/power-platform-release-plan/2020wave1/power-platform-governance-administration/service-health-power-platform-admin-center).

## My Flow Analytics

[Announced in 2017](https://flow.microsoft.com/en-us/blog/announcing-microsoft-flow-analytics/), Microsoft Flows Analytics today are useful for makers who want to review the flows created in the My Flows area of the Maker Portal.



## Next Steps

As the Power Apps Analytics feature evolves, I expect administrators will be given increased visibility and tooling to assist with the governance of Power Apps and Connectors. Until then continue exploring the dashboard and export capabilities to assist with unification of Power Apps and Connectors activity. Working with the data in all of the Analytics areas we can begin to better understand where users are most heavily active and stay on top of high impact issues.

If you are interested in learning more about specialized guidance and training for monitoring the power platform, please contact your **Technical Account Manager** for further details. Your feedback is extremely valuable so please leave a comment below and i'll be happy to help where I can!

## Index

[Monitoring the Power Platform: Introduction and Index](https://community.dynamics.com/crm/b/crminthefield/posts/monitoring-the-power-platform-introduction)